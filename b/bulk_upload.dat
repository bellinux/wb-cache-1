10|10|Public
5000|$|Users can <b>bulk</b> <b>upload</b> résumés, {{synchronize}} emails and calendars to Recruitee and Users {{can send}} bulk emails to candidates.|$|E
50|$|Students {{typically}} upload their papers—as individual documents—directly to the service, {{for teachers}} to access later on. Teachers may also submit student papers to Turnitin.com as individual files, a <b>bulk</b> <b>upload,</b> or a ZIP file. Teachers can also set up the assignment analysis options so that students can review their originality reports before they make their final submission. A peer-review option is also available.|$|E
50|$|Amazon Drive has {{released}} a desktop application supported for both Mac and Windows {{designed as a}} drop panel allowing users to drag and drop their files to initiate uploading. Users will have to install the application on their PC or Mac to use the application. It supports a one-touch button for downloading all the files from cloud should they be restored. Notably, files above 2GB can only be uploaded to Amazon Drive by the desktop clients. During <b>bulk</b> <b>upload,</b> files and folders can be paused or cancelled while in progress.|$|E
50|$|IPs and sub-IPs {{accessed}} the Edit computer {{using their}} normal ID and password, {{but had a}} separate password to access the editing facility. <b>Bulk</b> <b>uploads</b> only required the edit password and the IPs account number.|$|R
5000|$|... 5.4: This {{is a minor}} release, {{following}} up on v. 5.3, introducing support for <b>bulk</b> <b>uploading</b> files to the website file system, a small improvement to the hierarchical selector and a new command for Nightwatch.js API to test file uploads.|$|R
50|$|Product Upload helped merchants {{to upload}} their product catalogs in either text or XML file formats. It {{supported}} <b>bulk</b> <b>uploads</b> using FTP and browser-based uploads using HTTP. After {{the products were}} uploaded, they became visible to online shoppers using Bing Shopping. Shoppers were able to view prices, descriptions, and product images, and a direct link to the merchant's website to purchase their products. Merchants required a Windows Live ID to log in and sign up.|$|R
50|$|SnapVillage {{has been}} both praised by photographers {{for their ability to}} set their own prices and {{occasionally}} chided by those same constituents for lack of <b>bulk</b> <b>upload</b> and editing tools. There has been some positive sentiment around the interesting nature of certain images in the library but criticism that there is not yet enough images in the system. SnapVillage is estimated to have approximately 300,000 images for sale. iStockphoto advertises a selection of approximately three million images. Since SnapVillage is not an independent company, many in the industry feel that the company has a chance to succeed (in spite of its shortcomings) given backing from its parent company who presumably understand the strategic importance of microstock to its core business. The SnapVillage platform and the development team are thought to be entirely separate {{from the rest of the}} Corbis organization and the company has not yet announced specific plans for possible integration between the two companies. Additionally, there has been no public discussion of integrating products from Veer - the network Corbis purchased in November 2007.|$|E
40|$|This {{is a minor}} {{release that}} fixes a bug in the <b>Bulk</b> <b>Upload</b> feature and gives {{managers}} access to the validation portion of the <b>Bulk</b> <b>Upload</b> wizard. Summary of Changes Feature Additions Users classified as managers (page access level 2) {{are now able to}} access the <b>Bulk</b> <b>Upload</b> wizard. They can upload and validate CSV data files but are not permitted to insert the data they contain. Bug Fixes A minor bug in the <b>Bulk</b> <b>Upload</b> feature was fixed. Missing citation_year values used to trigger a fatal error, but they no longer do. Status of RSpec Tests All tests continue to pass when run in the default environment and can be run using the command bundle exec rspec Complete details for running the rspec tests are on the updated Wiki page at [URL]...|$|E
40|$|Important {{bug fixes}} to <b>Bulk</b> <b>Upload</b> Wizard Summary of Changes Bug Fixes Issue # 495 ("Yields with no {{assigned}} creator (user_id) are not updatable. ") Yields {{that have no}} assigned creator are now updatable. Moreover, the updater is, in this case, provided the option of being assigned as creator. Issue # 459 ("Change <b>bulk</b> <b>upload</b> (via wizard or API) to allow for traits not in the trait_covariate_associations table") The implementation of this feature was flawed—in fact it would report that uploads were successful {{when in fact they}} were not. This has been fixed. Issue # 520 ("Bulk Upload Wizard shouldn't create unnamed entities if there is only one trait per row of the CSV file") It is useless to attach a nameless entity to a single trait. This provides no useful information and only clutters up the database. Therefore, the <b>Bulk</b> <b>Upload</b> Wizard will no longer automatically create such entities. ## Steps Needed for Upgrade Database Changes There are no new database migrations in this release. The database version for this release is 20170415183619. Gem Installation No new Gems need be installed. Status of RSpec Tests All non-pending tests pass when run in the default environment. (Test spec/features/treatment_integration_spec. rb: 74 passes intermittently.) There is one pending test having to do with site-group editing permissions. The tests can be run using the command bundle exec rspec Complete details for running the RSpec tests are at [URL]...|$|E
40|$|This adds a migration, {{adding a}} new table to the database. It was {{deployed}} to www. betydb. org on September 9, 2014. Changes Pertinent to PEcAn Users Administrators need to do database migrations! See "Database Changes" below. Summary of Changes Database Changes Administrators need to do database migrations! The database version for this release is 20140909212759. A new table, trait_covariate_associations has been added. This {{will be used to}} facilitate <b>bulk</b> <b>uploads</b> of trait data. Status of RSpec Tests All tests now pass when run in the default environment. (Complete details for running the rspec tests are on the updated Wiki page at [URL]...|$|R
40|$|Virtualized web {{application}} servers within computational clouds, {{such as the}} GoogleApp Engine, generally restrict resource usage and therefore provide limited,relationally none-complete query facilities only. This work investigates how scalable,reliable and a more powerful access to the App Engine Datastore can beaccomplished and an Optimized Distributed Datastore Exchange (ODDSE) ispresented. Being aware of the App Engine’s resource restrictions ODDSE provides areliable and failure safe query interface to transparently exchange data with thedistributed Datastore using full SQL or AmosQL. ODDSE therefore wraps Datastorerelations and utilizes the extensible database system Amos II to compensate formissing query facilities in Google’s relationally none-complete query language GQL. Under the covers ODDSE furthermore implements an adaptive and reliablemanagement of interactions with App Engine servers. For scalability and highperformance the interaction is parallelized and continuously adapted. Theperformance of ODDSE is evaluated and compared to a similar system showing itsconsiderably good results for both <b>bulk</b> <b>uploading</b> and query processing...|$|R
30|$|Note that TYPE- 1 {{station has}} three flows, {{while others have}} a single flow. As for {{application}} traffic, we generate <b>bulk</b> download or <b>upload</b> traffic with FTP, web traffic with an exponential distributed traffic generator, and messenger traffic with a Pareto distributed traffic generator.|$|R
40|$|Assorted new {{features}} and bug fixes, including data upload improvements This {{is the first}} major release in three months. Changes Pertinent to PEcAn Users Administrators may {{need to do a}} database migration. If the BETYdb 4. 14 - hotfix release was deployed, no migrations are necessary. See "Database Changes" below. Summary of Changes New Features Issue # 466 Add support for an entity column in CSV files for <b>Bulk</b> <b>Upload.</b> An "entity" column heading in <b>bulk</b> <b>upload</b> CSV files is now recognized. The value in the column becomes the name of the entity to be used for all traits in the row. If the name matches an existing entity, that entity is re-used; otherwise a new entity will be inserted. Issue # 471 Add "experiments" view, show, and edit pages. The experiments table is now viewable and editable via the BETYdb Web interface. The BETYdb Rails application is now aware of the association between experiments and sites. In the beta API, using the "key" parameter is now optional. This is a convenience for users trying out the API in a browser: they now merely need to be logged in and don't need to include "key=" in the query string. Those using the API programmatically need not use the "key" parameter either if they supply a username and password. Issue # 432 In API, 'associated ids' should be optional (off by default) A new parameter "associations_mode" affords control over how much information about associated tables to display. Recognized values include count (show the number of rows in another table that are associated with this item), ids (show a list of the ids of those rows), and _full_info_ (show complete information about each associated item). Extensions to site customization options: Whether or not to show the Model I/O menu item can now be set in the application. yml file. What place-holder text to show in the home page's search box can now be set in the application. yml file. The citation/license/copyright and contact information included in CSV downloads now matches the (customizable) information displayed in the Web page footer (part of issue # 482) Issue # 482 Errors in search [...] > download, output csv In addition to site-appropriate citation information, downloaded CSV files now include a "raw_date" field in addition to the interpreted date previously provided. Although "raw_date" can easily be misinterpreted, it may prove useful for some use cases. Issue # 459 Change <b>bulk</b> <b>upload</b> (via wizard or API) to allow for traits not in the trait_covariate_associations table Any variable name used as a heading in a CSV data file that does not conflict with any of the usual heading names and is not listed as a covariate in the trait_covariate_associations table will now be recognized as a trait variable name. It is now also an error for there to be a heading that matches a recognized covariate name unless there is a matching trait name in the heading. Improved and additional RSpec testing of trait-insertion API and <b>Bulk</b> <b>Upload</b> wizard. Bug Fixes Issue # 472 There is an HTML class that is alternately spelled "final_paginate_row" or "final_paginagte_row". For the most part, this has had no user-viewable effects. Pull Request # 478 Typo in 401 message It now says "authentication" instead of "authenication". Issue # 479 species vs specie in new API Species (singular and plural) are now referred to as such in API results. Issue # 485 <b>Bulk</b> <b>Upload</b> doesn't handle blank entries in "notes" column. Previously either the "notes" column had to have a non-blank value in each row or the "notes" column had to be omitted altogether (in which case each trait inserted would have a blank note). Now it is possible to have notes for some but not all traits in the file. Other Changes The changes from [URL] have been merged into the master branch. These changes {{have to do with the}} experiments table and related database tables and objects. Steps Needed for Upgrade Database Changes Administrators may need to do database migrations! If BETYdb 4. 14 - hotfix was deployed, no migrations are needed. If you are upgrading from the BETYdb 4. 14, then there is one migration which needs to be run. The database version for this release is 20170118205944. Gem Installation No new Gems need be installed. Status of RSpec Tests All non-pending tests pass when run in the default environment. (There is one pending test having to do with site-group editing permissions.) The tests can be run using the command bundle exec rspec Complete details for running the rspec tests are at [URL]...|$|E
40|$|This {{incorporates}} {{a major new}} feature [...] the <b>Bulk</b> <b>Upload</b> Wizard [...] and also includes bug fixes from the last several sprints. It was deployed to www. betydb. org on December 5, 2014. Major Changes Administrators either need to run bundle install to install several new Ruby Gems or configure bundler to ignore the Gems in the 'debug' group. (The 'debug' group is needed only for running RSpec tests using the Selenium JavaScript driver.) Also, to avoid the installation of capybara-webkit, the group to ignore is now called 'javascript_testing', so if you never installed it and don't want to install it, configure Bundler to ignore the 'javascript_testing' group. (Note: Unless you have difficulty installing the Gems used for testing, {{there is really no}} compelling reason not to install them.) To ignore the 'debug' group, either run bundle install [...] without debug or, if you are sure your other Gems are up-to-date, you can just run bundle config [...] local without debug To ignore the 'javascript_testing' group (thus avoiding installation of capybara-webkit), substitute 'javascript_testing' for 'debug' in either of these two commands. To ignore both, run bundle install [...] without debug javascript_testing or bundle config [...] local without debug:javascript_testing Or, to ignore ALL gems except those needed in the production environment, ignore all the other groups: bundle install [...] without debug javascript_testing test development or bundle config [...] local without debug:javascript_testing:test:development Note that bundle install [...] without takes a space-separated list, but bundle config without takes a colon-separated one. Summary of Changes New Features A wizard for <b>bulk</b> <b>upload</b> of data has been added (currently only available to administrators). An easy method has been provided to debug RSpec tests using the Selenium JavaScript driver together with breakpoints (see the updated Wiki page for Automated Tests). Distinct pages now have distinct titles, making the site more accessible for those using screen readers and making navigation of the site using the browser history possible. Minor Improvements Redmine issue # 2599 ("Different pages of BetyDB should have different titles. ") : Formerly, every page on the site had the same title ("Energy Biosciences Institute"). This meant that if one had been clicking around the site for awhile and then looked at the browser history, all the recent entries in the history list would appear to be exactly the same. Now the default title is "BETYdb: " followed by the path/filename portion of the URL of the page. New validations {{have been added to the}} Create and Update pages for some tables. For example, it is now checked that yield values are non-negative. The rake notes:todo task has been redefined so that it finds not only source-code comments beginning with "TODO", but also those beginning with "TO-DO" or "to-do". Bug Fixes These bugs have been fixed: Redmine issue # 2406 ("Searching is broken on Ensembles, Inputs, Runs, and Workflows pages. ") Searches on these pages have now been fixed. Redmine issue # 2486 ("Baffling trait-creation error. ") Redmine issue # 2604 ("Application error when unsuccessfully updating a yield. " Status of RSpec Tests All tests now pass when run in the default environment and can be run using the command bundle exec rspec Complete details for running the rspec tests are on the updated Wiki page at [URL]...|$|E
40|$|Summary of Changes New API and Use of Proper Datatypes This release adds a new {{versioned}} API {{for adding}} new trait data and for querying most all data. It updates measurement and statistical data {{to use the}} proper datatypes and adds and modifies many features to make maintenance of BETYdb easier. Administrators {{need to do a}} database migration. See "Database Changes" below. New API A new API (version v 0) has been added for obtaining data in both JSON and XML formats. The new API also supports insertion of new trait data (provided in either JSON or XML format), something not provided by previous APIs. Documentation of this API is forthcoming. (A brief introduction is given in some of the comments to GitHub issues [URL] and [URL] New Features Docker files for application packaging Docker files have been added. Travis A Travis configuration file has been added in order to hook BETYdb into the Travis CI continuous integration service. This service will automatically run all of the non-Javascript based RSpec tests each time a new commit is pushed to GitHub. New and Modified Rake Tasks A new Rake task bety:db:populate has been added {{to make it easier for}} developers to get a new BETYdb instance up and running or to get a fresh copy of the BETYdb database. This is a wrapper for Pecan's load. bety. sh script and replaces the wrapper script update-betydb. sh for most use-cases relevant to the BETYdb developer. db:test:load_structure has been modified to behave correctly when using the postgis adapter. It will now drop the test database if it exists and then recreate it and load the database schema defined by the *_structure. sql file corresponding to the current environment. This makes it easier to set up the test database for testing, even if the other databases have not been set up. A description has been added for the Rake task db:test:clone_structure. The task db:fixtures:load has been disabled for all but the test environment. This will help prevent data loss caused by inadvertently running it in the wrong environment. The db:create task now only creates the database corresponding to the current environment. (When Rails. env was "development", it used to also create the test database. Though perhaps useful, this seemed counterintuitive.) Bug Fixes Some missing model associations have been added. This should facilitate getting useful information from related tables via an API call. The script script/update-betydb. sh has been updated to make it consistend with the load. bety. sh script from the Pecan repository, for which it serves as a wrapper. Some fixes have been made to the Add-SQL-Geometry Python script (script/buildSQLGeom. py). A bug has been fixed in the header-normalization routine of the <b>Bulk</b> <b>Upload</b> wizard whereby any header (e. g. a trait name) containing the consecutive letters 'se' was getting capitalized. Now only the string 'se' itself is normalized (to 'SE'—Standard Error). Steps Needed for Upgrade Database Changes Administrators need to do database migrations! The migration ChangeNumericsToFloats changes the datatype of all columns that were previously arbitrary precision numbers of type NUMERIC(16, 4) into double precision floating-point types. The columns in question are those used to represent values of trait, covariate, and yield measurements and the values of associated statistics (and also the parameter columns in the priors table). This helps to make the number of significant digits recordable for a particular measurement independent of the unit used for recording the measurement. Moreover, as the PostgreSQL documentation points out, "arithmetic on numeric values is very slow compared [...] . to the floating-point types", so using floating-point types represents an improvement if computational features of SQL are to be used. The database version for this release is 20160303221049. Gem Installation Administrators need to run the bundler to install new Ruby Gems related to the new API. Status of RSpec Tests All tests continue to pass when run in the default environment and can be run using the command bundle exec rspec Pass/failure status of the latest commits to GitHub are now shown at [URL] Only the non-JavaScript based tests are run by Travis. To check the others, run bundle exec rspec -t js Complete details for running the rspec tests are on the updated Wiki page at [URL]...|$|E
40|$|Here is {{the list}} of updates: We have added {{features}} in the layout editor that allow a user to select nodes and edges based on color and shape in order to edit their visual properties. This functionality is available {{in conjunction with the}} features that allowed a user to arrange the positions of the nodes in a variety of shapes. We have streamlined the search interface and made it more efficient. During this process, we also disabled support for "Exact" searches: GraphSpace now supports only case-insensitive and substring searches. We have brought the JSON format accepted by GraphSpace in line with Cytoscape. js and with Cytoscape. To specify a network, we separate the structure of the network (nodes and edges) from the description of the visual styles of the nodes and edges. GraphSpace now supports CSS-based Cytoscape. js JSON files for specifying the style of the graph. GraphSpace users can import these files either in the "Upload" section or the "Layout Editor" section. We have deprecated support for the JSON format supported only on GraphSpace. Concomitant with these changes, we now allow Cytoscape users to export their visually-coded networks from Cytoscape and to import them directly into GraphSpace. We added the support for aliases data attribute for nodes. Users can add a list of aliases for a node. These aliases are searchable on search page for graphs. We have added support to allow a group owner to invite another person to a group via a signup link. To facilitate <b>bulk</b> <b>uploads</b> of networks to GraphSpace, we have implemented the Graphspace_python module that a user can install from PyPI...|$|R
40|$|Background: Health {{technology}} assessments (HTA) {{provide an}} evidence base {{for health care}} decisions and decision-makers are looking for assessments produced in the relevant health system’s context. In recognition {{of the benefits of}} having a single HTA repository for ease of access, the Pan-Canadian HTA Collaborative Steering Committee established a working group to develop a dedicated Canadian HTA repository. In 2013 the pan-Canadian working group chose a joint solution with the producers of the existing HTA database in order to leverage its functionality, accessibility, international content, and customer base. Funded by the UK NIHR and produced by CRD, the HTA database provides a comprehensive listing of over 14, 500 HTAs from around the world. Consolidating Canadian HTA records into the HTA database would provide “one-stop” access to both Canadian and international HTA reports.   Objectives: The Pan-Canadian HTA Repository Working Group and NIHR CRD aimed to develop a client administration interface, <b>bulk</b> <b>uploading</b> of records, and a bilingual Canadian user search interface.   Methods: A remote data entry facility was developed and tested, using reports from four Canadian HTA agencies. Pilot records were mapped and tagged for automated loading. A bilingual Canadian search interface to the HTA database was designed and tested by the Pan-Canadian HTA Repository Working Group.   Results: We have successfully piloted the client administration and automated uploading of Canadian records. The Canadian search interface for the HTA database is being rolled out to healthcare decision makers and HTA producers across Canada. It includes a bilingual search interface, bilingual MeSH subject headings, a “Province” field, and retrieval defaults to Canadian content.   Conclusions: The new Canadian search interface for the HTA database encourages and facilitates the use of health technology assessments for evidence-based health care decision making within Canada while promoting collaboration among both Canadian and International HTA producers...|$|R
40|$|Added new site-grouping features. Minor {{bug fixes}} and upgrades. Ruby 2. 1 or greater is now required. Changes Pertinent to PEcAn Users Administrators {{need to do}} a {{database}} migration. See "Database Changes" below. Summary of Changes New Features Grouping of Sites This release of BETY now allows the user to create a grouping of sites. The user can make this grouping publicly accessible or make it private for the user only. The grouping can be used in the BETYdb web interface to quickly get to sites of interest, or in the PEcAn interface to show only those sites the user is interested in. Upgrade to RSpec 3 The version of RSpec that we use for testing has been upgraded from version 2. 14 to version 3. 4. This shouldn't affect end users, but developers will now {{be able to use the}} latest version of RSpec when writing new tests. Other Notable Changes Ruby Versions and Travis Although Ruby 2. 1. 5 is the Ruby version "officially" supported by BETYdb, up until recently, BETYdb would run with versions 1. 9. 3 and 2. 0. This is no longer the case. Since tests will now fail under both Ruby 1. 9. 3 and 2. 0. 0, these version have been removed from the set of versions run by Travis (our automated testing service). Travis instead now runs tests under the following Ruby versions: 2. 1. 5 (the "official" version), 2. 1. 8, 2. 2. 4, and 2. 3. 0. Although users are strongly encouraged to upgrade Ruby to at least version 2. 1, users who still want to run BETYdb under older versions may be able to do so for the time being by making certain changes to their code. If you are a user who wishes to do this, please contact BETYdb support. Bug Fixes GitHub issues # 386 and # 387 An issue arose with <b>bulk</b> <b>uploads</b> when a trait or covariate variable was used that had a maximum value set to +Infinity (GH issue # 386). This was because the code would treat such values as being zero, so that no positive value was acceptable (GH issue # 387). (A minimum value of -Infinity was also treated as zero, making negative values unacceptable as well.) This has been fixed. Problems with Travis and Database Migrations A problem with Travis (an automated test-running service) used to occur when a database migration was committed. If any test code depended on the migration, the test would fail until the file db/production_structure. sql was updated. Even worse, if a test fixture depended on the migration, the test setup would fail and no tests at all would run. Since db/production_structures. sql is updated only upon deployment of new code to www. betydb. org, this meant that Travis tests would fail from the time the migration was first committed to GitHub until the time of deployment. Now Travis uses the (new) file test_structure. sql. This file should be regenerated and the update should be added to the GitHub repository each time a new migration is added. Steps Needed for Upgrade Database Changes (if applicable) Administrators need to do database migrations! There is one migration, which adds the sitegroups table and an associated join table. The database version for this release is 20160412030352. Gem Installation Administrators need to run the bundler to update versions of some of the Ruby Gems. Status of RSpec Tests All tests continue to pass when run in the default environment and can be run using the command bundle exec rspec As noted above, we are now using RSpec version 3. 4. Complete instructions for setting up the test database and running the RSpec tests are on the Wiki page at [URL]...|$|R
40|$|New value {{constraints}} for database {{tables and}} validations for corresponding models; new RSpec tests; several bug fixes. Many new values constraints {{have been added}} to ensure database-integrity. Consistency checks {{have been added to}} the dbfiles table to ensure the referred-to containers exist. Restrictions on editing variables associated with traits or covariates that violate the range restriction for the variable value have been relaxed. Many bug fixes have been implemented. Changes Pertinent to PEcAn Users Administrators need to do a database migration. See "Database Changes" below. Summary of Changes Implemented values constraints, both at the database level and and the Web user-interface (Rails app) level The addition of value constraints is a major step toward helping to ensure data-integrity. It should no longer be possible, for example, to enter a site with a longitude value of 2000 (which has happened!) or genuses that aren't capitalized. Not only will these constraints help prevent gross errors, they will also help standardize the set of allowable values. When used to constrain values in columns comprising a candiate key, this will make it less likely that duplicate rows for the same entity will occur. To give one example, a uniqueness constraint on species. scientificname will not by itself prevent the occurrence of two species rows that are identical except that the first has scientificname "Abies alba" and the second has scientificname "Abies alba ". Requiring values in this column to be "whitespace-normalized" (no leading or trailing space, no double-spaces) will prevent this sort of duplicate from occurring. Implemented integrity constraints on references to inputs, models, and posteriors in dbfiles table A row having container_type = 'Input' must have a value for container_id that matches the id column value of some row in the inputs table. Similarly for container types "Model" and "Posterior". Allowing "lazier" approach to fixing variable range violations It used to be a variable could not be edited if any trait or covariate row that referred to the variable had a variable value that violated the range restriction for the variable. One first had to fix all the range violations in the traits and/or covariates rows before the variable could be edited, even if the update only involved, say, changing the notes. Now the trigger that checks for range violations is only run when an attempt is made to change the value of the min or max attribute. Thus all other attributes are now freely editable, regardless of any range violations in associated rows. Bug Fixes Some of the fixes include: Corrected text of mis-labelled buttons Fix for issue # 282 : Can't create two new managements in a row for a given treatment. Eliminated duplicate fields from New Species form Fixed layout of Species and Covariate "Edit" pages (GH # 280) Fixed trait-search action used on Covariate "Edit" page Eliminated vestigial obsolete code and routes Restored the change-password checkbox to the edit-user page to make this page clearer and more user-friendly Re-aligned and rearranged fields in species/show page (GH # 135) Restored some routes that were eliminated when wildcard routes were eliminated. Corrected title for Machine "Show" page (GH # 294) Allow Managers to delete Yield records; also allow Creators to delete Yield records they themselves created (part of Redmine issue # 2334) Made treatments on Listing Treatments page sortable Restyled Listing Treatments page to make it more readable, and added delete buttons to rows that user is allowed to delete (part of Redmine issue # 2334) Better error message when treatment is missing in <b>bulk</b> <b>upload</b> file (GH # 287) Better error message for violation of foreign key constraint (GH # 306) Fixed "CF Guidelines" link on Variables "Edit" page (GH # 308) Fixed Variable update form so that variable type can be updated (GH # 309) Fixed Management "Edit" page so that citation is not inadvertently changed (GH # 313) Fixed "map" links on Site listing page that were broken in certain deployment configurations and removed "map" link from "Show" pages (GH # 305) On "Edit" pages for traits and yields, preselect the current access level so that it isn't inadvertently changed (GH # 302) Fixed display of incorrect QA/QC values on yields listing page (part of GH # 303) Fixed bug in data access filter so that Views and Creators can once again see all records that they themselves created Changed criteria for displaying the edit control for QA/QC values on the yields list page (part of GH # 303) Re-styled "New File" page (GH # 304) Removed "Show" button from "New Site" page (GH # 321) Changed "Back" buttons on all "New" pages to say "All Records" like all the edit pages do (GH # 322) Steps Needed for Upgrade Database Changes Administrators need to do database migrations! There are three database migrations included in this release. The first and most extensive of these involves the addition of several new value constraints. The following set of SQL commands may prove helpful in applying this migration, especially if a data synchronization has not been done recently: update ensembles set notes = '', updated_at = now() at time zone 'utc' where notes is null; update runs set outprefix = '', updated_at = now() at time zone 'utc' where outprefix is null; update runs set setting = '', updated_at = now() at time zone 'utc' where setting is null; update users set state_prov = '', updated_at = now() at time zone 'utc' where state_prov is null; update users set postal_code = '', updated_at = now() at time zone 'utc' where postal_code is null; update workflows set params = '', updated_at = now() at time zone 'utc' where params is null; If further trouble-shooting of migrations is required, the following may be helpful in finding the source of migration problems: bundle exec rake db:migrate 2 >& 1 | grep ERROR (If you run BETYdb in the production environment, and your production database differs from you development database, prefix this command with RAILS_ENV=production.) The database version for this release is 20150521211114. Gem Installation No new Gems need be installed for this release. Status of RSpec Tests All tests continue to pass when run in the default environment and can be run using the command bundle exec rspec Complete details for running the rspec tests are on the updated Wiki page at [URL]...|$|E
40|$|Enhanced API for rOpensci traits package; {{upgrade to}} rails 3. 2, Ruby 2. 1. 5. This release {{upgrades}} the Rails version from Rails 3. 0. 18 to Rails 3. 2. 21 and changes the RVM-specified version of Ruby from version 1. 9. 3 -p 429 to version 2. 1. 5. In {{addition to these}} changes which {{in and of themselves}} make for improved security, there are numerous minor changes to the Rails code including security fixes, removal of obsolete code, fixes and improvements to the query API, and phase-out of vendor plugins in favor of gems, Changes Pertinent to PEcAn Users Administrators need to do a database migration. See "Database Changes" below. Summary of Changes New Features Enhanced API for rOpensci traits package See section 2 of the BETYdb Data Access guide at [URL] API Key generation Users may now generate their own API keys by going to the Users page and clicking the "key" button. And there is now a new rake task that administrators can use to generate API keys for all current users. See section 2. 3 of the BETYdb Data Access guide at [URL] Directory-Specific Session Keys When multiple copies of BETYdb are deployed on the same host, they now use differently-named session cookies (assuming the basenames of the Rails root directories are different). This mainly affects developers who may visit different copies of BETYdb on the same host simultaneously; up to now, such users will likely have seen baffling interactions between the two copies. Updated version of selenium-webdriver The Gem version specification for selenium-webdriver has been changed to a version compatible with the latest versions of Firefox. This mainly affects those running the RSpec tests in debug mode. Addition of primary keys to join tables This facilitate the synchronizing of data having to do with many-to-many associations. Security Updates Miscellaneous security updates have been implemented, including Upgrading of Rails from version 3. 0. 18 to 3. 2. 21 Upgrading the default version of Ruby to version 2. 1. 5 Storage of session data in the database instead of in cookies Elimination of most non-specific routes In keeping with recommended practice in Rails 3. 2, packages that were formerly kept in vendor plugins are now in Ruby gems. The change to database storage of session data has the additional benefit of overcoming some restrictions on the size of <b>bulk</b> <b>uploads.</b> Bug Fixes The API for querying and downloading data offers more features than available previously, restoring some features that were lost in the upgrade from Rails 2 to Rails 3. See section 2 of the Data Access Guide: [URL] Cloning of PFTs now works again. A bug that prevented editing a PFT if it was associated with some Prior whose paramb column was NULL has now been fixed. Steps Needed for Upgrade Database Changes Administrators need to do database migrations! One migration has been added that adds id columns to the join tables. The database version for this release is 20150202215147. Ruby Upgrade The officially-supported version of Ruby for use with BETYdb is now Ruby version 2. 1. 5. It is recommended that you upgrade to some Ruby 2 version since Ruby 1. 9. 3 is no longer being maintained. (See [URL] for details.) Nevertheless, users who can not or do not wish to upgrade will likely be able to continue to use Ruby 1. 9. 3 without difficulty. It may also be possible to use the latest version of Ruby, Ruby 2. 2. 1. To continue using Ruby 1. 9. 3 If you use RVM or some other Ruby version management system that reads the. ruby-version file, revert the string in that file so that it once again reads ruby- 1. 9. 3 -p 429. You may wish to add. ruby-version to your. gitignore file so that git doesn't try to change it or flag it as having been modified. To upgrade to Ruby 2. 1. 5 Install Ruby 2. 1. 5 if you haven't done so already. If you use RVM, you may do this by running rvm install 2. 1. 5 If you run BETYdb with Apache [URL] change or add the directive PassengerDefaultRuby /path/to/ruby 2 /executable or the PassengerRuby /path/to/ruby 2 /executable directive according to your needs. Otherwise, if you only use WEBrick, just ensure that the version of Ruby you want to use is first in your path. If you are using RVM, this is automatic (though you may have to leave and then return to the BETYdb Rails root directory if you haven't done so since updating your. ruby-version file; run rvm current to verify that you are using the correct Ruby version and gemset). Gem Installation, Including Rails Upgrade Administrators need to run the bundler to install several new Ruby Gems and updated versions of existing ones. First, change to the root directory of your BETYdb Rails installation. Then, if you are using RVM, run rvm current to ensure you are using the correct Ruby version and gemset. It should say ruby- 2. 1. 5 @betydb_rails 3 if you upgraded Ruby and ruby- 1. 9. 3 -p 429 @betydb_rails 3 if you did not. If you are not using a Ruby version management system, simply run ruby -v to check your version of Ruby. Once you ensure you are using the correct Ruby version and gemset, run bundle If you have trouble installing capybara-webkit and don't need to run the Javascript-based RSpec tests, you may run bundle [...] without javascript_testing instead. If you won't be running RSpec tests at all and want to minimize your Gem installation, run bundle [...] without javascript_testing test debug See [URL] for details. Status of RSpec Tests All tests continue to pass when run in the default environment and can be run using the command bundle exec rspec Complete details for running the rspec tests are on the updated Wiki page at [URL]...|$|R

